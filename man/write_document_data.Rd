% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Helpers-Internal.R
\name{write_document_data}
\alias{write_document_data}
\title{Write SEC Document Data to Parquet Files}
\usage{
write_document_data(.tab)
}
\arguments{
\item{.tab}{A tibble/data frame containing document data with the following columns:
\itemize{
\item HashDocument: Unique identifier for the document
\item Year, Quarter, YearQuarter: Time period identifiers
\item CIK: Company identifier
\item Type: Document type
\item HTML: Raw HTML content
\item TextRaw: Extracted raw text
\item TextMod: Processed/standardized text
\item PathOut: Full path for the output Parquet file
}}
}
\description{
Writes or appends SEC document data to company-specific Parquet files. The function
organizes documents by CIK (company identifier) and handles both new file creation
and updates to existing files.
}
\details{
The function:
\enumerate{
\item Splits the input data by PathOut (company-specific file paths)
\item For each company:
\itemize{
\item If a Parquet file exists: Reads existing data and appends new data
\item If no file exists: Creates a new Parquet file
}
\item Removes the PathOut column before writing
\item Maintains one Parquet file per company (CIK)
}
}
\note{
\itemize{
\item The function assumes the parent directories in PathOut already exist
\item Data is appended without checking for duplicates
\item The function processes files in memory, so consider memory usage with large datasets
}
}
\keyword{internal}
