% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DocumentDownload.R
\name{edgar_print_download_rate}
\alias{edgar_print_download_rate}
\title{Print Download Rate and Update Timing State}
\usage{
edgar_print_download_rate(.msg_ini, .counter, .t0, .rate, .verbose)
}
\arguments{
\item{.msg_ini}{Character string. The base message to print (e.g., \code{"10-K: 2023-1 (3/15)"}).
This is prefixed before the rate in the printed output.}

\item{.counter}{Integer. The index of the current download (within a loop). Used to determine when
to recalculate the download rate (every 10 downloads).}

\item{.t0}{POSIXct. Timestamp recorded at the last rate calculation (or the start of the batch).
Used to compute the elapsed time over 10 downloads.}

\item{.rate}{Character string. The previous rate message (e.g., \code{"0.00 Docs/Sec"}). If this
is not the 10th download, the old rate is reused.}

\item{.verbose}{Logical. If \code{TRUE}, the function will print to the console; if \code{FALSE},
it will suppress printing entirely.}
}
\value{
A named list with two elements:
\describe{
\item{\code{T0}}{POSIXct. The new reference time (set to \code{Sys.time()}).}
\item{\code{Rate}}{Character. The computed (or reused) rate string, e.g., \code{"10.00 Docs/Sec"}.}
}
}
\description{
Prints a progress message containing the current download rate (documents per second)
to the console and returns an updated timing state. Every 10th call, the function
enforces a small sleep (if necessary) to ensure that no more than 10 downloads
occur per second. On other calls, it simply reprints the previous rate without delay.
}
\keyword{internal}
